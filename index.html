<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ples nerd 2</title>

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="theme-color" content="#00a1d8">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

<style>
* { box-sizing:border-box; user-select:none; font-family:'Press Start 2P', monospace; }
body { margin:0; padding:10px; background:#00a1d8; color:white; text-align:center; }

h1 { margin:12px 0; font-size:1.6rem; color:#e63b7a; text-shadow:2px 2px #000; }
h2 { margin-top:22px; font-size:0.75rem; text-shadow:1px 1px #000; }

#counter { font-size:0.7rem; margin-bottom:10px; line-height:1.6; text-shadow:1px 1px #000; }
#rank { margin-top:6px; display:flex; justify-content:center; align-items:center; gap:6px; }

.badge {
  width:14px; height:14px;
  border:3px solid #000;
  background:#888;
}
.badge.bronze { background:#cd7f32; }
.badge.silver { background:#c0c0c0; }
.badge.gold { background:#ffd700; }
.badge.platinum { background:#7fffd4; }
.badge.diamond { background:#4fc3f7; }
.badge.elite { background:#e91e63; }
.badge.champion { background:#9c27b0; }
.badge.unreal { background:#ff5722; }

#nerdImage { width:min(70vw,240px); cursor:pointer; image-rendering:pixelated; }
#nerdImage:active { transform:scale(0.92); }

.upgrade-section { margin-top:12px; display:flex; flex-direction:column; gap:10px; align-items:center; }

button {
  width:95%; max-width:340px;
  background:#e63b7a;
  border:4px solid #000;
  color:white;
  padding:12px;
  font-size:0.55rem;
  box-shadow:4px 4px #000;
  cursor:pointer;
}
button:active { transform:translate(4px,4px); box-shadow:none; }
button:disabled { opacity:0.5; cursor:not-allowed; box-shadow:none; }

.tabs { display:flex; justify-content:center; gap:6px; margin-top:18px; flex-wrap:wrap; }
.tab-btn { padding:8px; font-size:0.5rem; border:4px solid #000; background:#e63b7a; box-shadow:4px 4px #000; }
.tab-btn.active { background:#ff75a0; }

.tab-content { display:none; margin-top:15px; }
.tab-content.active { display:block; }

.achievement {
  border:3px solid #000;
  background:#111;
  padding:8px;
  width:95%;
  max-width:340px;
  font-size:0.5rem;
}
.achievement.unlocked { background:#2ecc71; color:#000; }

/* ACHIEVEMENT POPUP */
#popup {
  position:fixed;
  top:20px;
  left:50%;
  transform:translateX(-50%) translateY(-120%);
  background:#2ecc71;
  color:#000;
  border:4px solid #000;
  padding:12px;
  font-size:0.55rem;
  box-shadow:6px 6px #000;
  transition:transform 0.4s ease;
  z-index:999;
}
#popup.show {
  transform:translateX(-50%) translateY(0);
}
</style>
</head>
<body>

<h1>ples nerd 2</h1>

<div id="counter">
  nerds: <span id="nerds">0</span><br>
  <small><span id="rate">0</span> nerd/sec</small>
  <div id="rank"></div>
</div>

<img id="nerdImage" src="nerd.png">

<h2>click upgrades</h2>
<div id="clickUpgrades" class="upgrade-section"></div>

<h2>auto upgrades</h2>
<div id="autoUpgrades" class="upgrade-section"></div>

<div class="tabs">
  <div class="tab-btn active" data-tab="shop">Shop</div>
  <div class="tab-btn" data-tab="skins">Skins</div>
  <div class="tab-btn" data-tab="achievements">Achievements</div>
</div>

<div id="shop" class="tab-content active">
  <h2>Skin Shop</h2>
  <div id="skinShop" class="upgrade-section"></div>
</div>

<div id="skins" class="tab-content">
  <h2>Skin Locker</h2>
  <div id="skinLocker" class="upgrade-section"></div>
</div>

<div id="achievements" class="tab-content">
  <h2>Achievements</h2>
  <div id="achievementList" class="upgrade-section"></div>
</div>

<div id="popup"></div>

<script>
let nerds=0, nerdsPerClick=1, nerdsPerSecond=0, totalEarned=0;
let equippedSkin="nerd.png";
let purchasedSkins=["nerd.png"];
let unlockedAchievements=[];

/* UPGRADES */
const clickUpgrades=[{name:"Better Click",cost:10,amount:1}];
const autoUpgrades=[
  {name:"handful of nerds",cost:55,amount:2},
  {name:"box of nerds",cost:300,amount:20},
  {name:"bucket of nerds",cost:750,amount:40},
  {name:"crate of nerds",cost:20000,amount:80},
  {name:"van of nerds",cost:100000,amount:500}
];

/* SKINS */
const skins=[
  {name:"nerd",img:"nerd.png",cost:0},
  {name:"red nerd",img:"red.png",cost:5000},
  {name:"orange nerd",img:"orange.png",cost:5000},
  {name:"yellow nerd",img:"yellow.png",cost:5000},
  {name:"green nerd",img:"green.png",cost:5000},
  {name:"blue nerd",img:"blue.png",cost:5000},
  {name:"purple nerd",img:"purple.png",cost:5000}
];

/* RANKS */
const ranks=[
  {name:"Bronze",req:0,cls:"bronze"},
  {name:"Silver",req:1000,cls:"silver"},
  {name:"Gold",req:10000,cls:"gold"},
  {name:"Platinum",req:100000,cls:"platinum"},
  {name:"Diamond",req:1000000,cls:"diamond"},
  {name:"Elite",req:10000000,cls:"elite"},
  {name:"Champion",req:100000000,cls:"champion"},
  {name:"Unreal",req:1000000000,cls:"unreal"}
];

/* ACHIEVEMENTS */
const achievements=[
  {id:"first",text:"First Click",check:()=>totalEarned>=1},
  {id:"100",text:"100 Nerds",check:()=>totalEarned>=100},
  {id:"1k",text:"1,000 Nerds",check:()=>totalEarned>=1000},
  {id:"auto",text:"First Auto Upgrade",check:()=>nerdsPerSecond>0},
  {id:"skin",text:"Buy a Skin",check:()=>purchasedSkins.length>1},
  {id:"million",text:"1,000,000 Nerds",check:()=>totalEarned>=1_000_000}
];

const nerdsSpan=document.getElementById("nerds");
const rateSpan=document.getElementById("rate");
const rankDiv=document.getElementById("rank");
const popup=document.getElementById("popup");

/* POPUP */
function showPopup(text){
  popup.textContent="Achievement Unlocked: "+text;
  popup.classList.add("show");
  setTimeout(()=>popup.classList.remove("show"),2500);
}

function getRank(){
  return ranks.slice().reverse().find(r=>totalEarned>=r.req);
}

function checkAchievements(){
  achievements.forEach(a=>{
    if(!unlockedAchievements.includes(a.id)&&a.check()){
      unlockedAchievements.push(a.id);
      showPopup(a.text);
    }
  });
}

function buildAchievements(){
  const list=document.getElementById("achievementList");
  list.innerHTML="";
  achievements.forEach(a=>{
    const d=document.createElement("div");
    d.className="achievement "+(unlockedAchievements.includes(a.id)?"unlocked":"");
    d.textContent=(unlockedAchievements.includes(a.id)?"âœ” ":"ðŸ”’ ")+a.text;
    list.appendChild(d);
  });
}

function buildUpgrades(){
  clickUpgrades.forEach(u=>{
    const b=document.createElement("button");
    b.textContent=`${u.name} (+${u.amount}/click) Cost:${u.cost}`;
    b.onclick=()=>{ if(nerds>=u.cost){ nerds-=u.cost; nerdsPerClick+=u.amount; updateUI(); }};
    document.getElementById("clickUpgrades").appendChild(b);
  });
  autoUpgrades.forEach(u=>{
    const b=document.createElement("button");
    b.textContent=`${u.name} (+${u.amount}/sec) Cost:${u.cost}`;
    b.onclick=()=>{ if(nerds>=u.cost){ nerds-=u.cost; nerdsPerSecond+=u.amount; updateUI(); }};
    document.getElementById("autoUpgrades").appendChild(b);
  });
}

function buildSkins(){
  const shop=document.getElementById("skinShop");
  const locker=document.getElementById("skinLocker");
  shop.innerHTML=""; locker.innerHTML="";
  skins.forEach(s=>{
    if(!purchasedSkins.includes(s.img)){
      const b=document.createElement("button");
      b.textContent=`${s.name} - ${s.cost}`;
      b.onclick=()=>{ if(nerds>=s.cost){ nerds-=s.cost; purchasedSkins.push(s.img); equippedSkin=s.img; updateUI(); }};
      shop.appendChild(b);
    }
  });
  purchasedSkins.forEach(img=>{
    const s=skins.find(x=>x.img===img);
    const b=document.createElement("button");
    b.textContent=`Equip ${s.name}`;
    b.onclick=()=>{ equippedSkin=s.img; updateUI(); };
    locker.appendChild(b);
  });
}

function saveGame(){
  localStorage.setItem("plesNerd2Save",JSON.stringify({
    nerds,nerdsPerClick,nerdsPerSecond,totalEarned,
    equippedSkin,purchasedSkins,unlockedAchievements
  }));
}

function loadGame(){
  const s=JSON.parse(localStorage.getItem("plesNerd2Save"));
  if(!s) return;
  Object.assign(window,s);
}

function updateUI(){
  nerdsSpan.textContent=Math.floor(nerds);
  rateSpan.textContent=nerdsPerSecond;
  const r=getRank();
  rankDiv.innerHTML=`<div class="badge ${r.cls}"></div>${r.name}`;
  document.getElementById("nerdImage").src=equippedSkin;
  checkAchievements();
  buildAchievements();
  buildSkins();
  saveGame();
}

document.getElementById("nerdImage").onclick=()=>{
  nerds+=nerdsPerClick;
  totalEarned+=nerdsPerClick;
  updateUI();
};

setInterval(()=>{
  nerds+=nerdsPerSecond;
  totalEarned+=nerdsPerSecond;
  updateUI();
},1000);

document.querySelectorAll(".tab-btn").forEach(b=>{
  b.onclick=()=>{
    document.querySelectorAll(".tab-btn").forEach(x=>x.classList.remove("active"));
    document.querySelectorAll(".tab-content").forEach(x=>x.classList.remove("active"));
    b.classList.add("active");
    document.getElementById(b.dataset.tab).classList.add("active");
  };
});

loadGame();
buildUpgrades();
updateUI();
</script>
</body>
</html>
