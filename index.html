<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ples nerd 2</title>

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="theme-color" content="#00a1d8">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

<style>
* { box-sizing: border-box; user-select: none; -webkit-tap-highlight-color: transparent; font-family: 'Press Start 2P', monospace; }
body { margin:0; padding:10px; background:#00a1d8; color:white; text-align:center; }
h1 { margin:12px 0; font-size:1.6rem; color:#e63b7a; font-weight:bold; text-shadow:2px 2px #000; }
h2 { margin-top:30px; font-size:0.9rem; text-shadow:1px 1px #000; }
#counter { font-size:0.8rem; margin-bottom:15px; line-height:1.6; text-shadow:1px 1px #000; }
#nerdImage { width:min(70vw,240px); cursor:pointer; image-rendering: pixelated; transition: transform 0.08s ease; }
#nerdImage:active { transform: scale(0.92); }
.upgrade-section { margin-top:15px; display:flex; flex-direction:column; gap:12px; align-items:center; }
button { width:95%; max-width:320px; background:#e63b7a; border:4px solid #000; color:white; padding:14px; font-size:0.65rem; border-radius:0; cursor:pointer; line-height:1.5; text-shadow:1px 1px #000; box-shadow:4px 4px #000; transition: transform 0.05s; }
button:active { transform:translate(4px,4px); box-shadow:none; }
button:disabled { opacity:0.5; cursor:not-allowed; box-shadow:none; }
small { font-size:0.55rem; opacity:0.85; }
.tabs { display:flex; justify-content:center; gap:10px; margin-top:20px; }
.tab-btn { background:#e63b7a; border:4px solid #000; color:white; padding:10px; cursor:pointer; font-size:0.65rem; border-radius:0; box-shadow:4px 4px #000; }
.tab-btn.active { background:#ff75a0; }
.tab-content { display:none; margin-top:15px; }
.tab-content.active { display:block; }
</style>
</head>
<body>

<h1>ples nerd 2</h1>

<div id="counter">
  nerd: <span id="nerds">0</span><br>
  <small><span id="rate">0</span> nerd/sec</small>
</div>

<img id="nerdImage" src="nerd.png" alt="Nerd">

<h2>clicking upgrades</h2>
<div id="clickUpgrades" class="upgrade-section"></div>

<h2>upgrades</h2>
<div id="autoUpgrades" class="upgrade-section"></div>

<div class="tabs">
  <div class="tab-btn active" data-tab="shop">Shop</div>
  <div class="tab-btn" data-tab="skins">Skins</div>
</div>

<div id="shop" class="tab-content active">
  <h2>Skin Shop</h2>
  <div id="skinShop" class="upgrade-section"></div>
</div>

<div id="skins" class="tab-content">
  <h2>Skin Locker</h2>
  <div id="skinLocker" class="upgrade-section"></div>
</div>

<script>
let nerds = 0;
let nerdsPerClick = 1;
let nerdsPerSecond = 0;
let equippedSkin = "nerd.png";
let purchasedSkins = ["nerd.png"]; // Always start with default skin purchased

// Clicking upgrades
const clickUpgrades = [
  { name: "Better Click", cost: 10, amount: 1 }
];

// Auto upgrades
const autoUpgrades = [
  { name: "handfull of Nerd", cost: 55, amount: 2 },
  { name: "box of nerd", cost: 300, amount: 20 },
  { name: "bucket of nerds", cost: 750, amount: 40 },
  { name: "crate of nerd", cost: 20000, amount: 80 },
  { name: "van of nerd", cost: 100000, amount: 50000 },
  { name: "yacht of nerd", cost: 1000000, amount: 20000 },
  { name: "mansion of nerd", cost: 10000000, amount: 200000 },
  { name: "island of nerd", cost: 100000000, amount: 2000000 },
  { name: "country of nerd", cost: 1000000000, amount: 200000000 },
  { name: "continent of nerd", cost: 10000000000, amount: 2000000000 },
  { name: "planet of nerd", cost: 100000000000, amount: 20000000000 },
  { name: "solar system of nerd", cost: 1000000000000, amount: 200000000000 },
  { name: "galaxy of nerd", cost: 10000000000000, amount: 2000000000000 },
  { name: "galaxy cluster of nerd", cost: 100000000000000, amount: 20000000000000 },
  { name: "universe of nerd", cost: 1000000000000000, amount: 200000000000000 }
];

// Skins
const skins = [
  { name: "nerd", img: "nerd.png", cost: 0 },
  { name: "red nerd", img: "red.png", cost: 5000 },
  { name: "orange nerd", img: "orange.png", cost: 5000 },
  { name: "yellow nerd", img: "yellow.png", cost: 5000 },
  { name: "green nerd", img: "green.png", cost: 5000 },
  { name: "blue nerd", img: "blue.png", cost: 5000 },
  { name: "purple nerd", img: "purple.png", cost: 5000 }
];

const nerdsSpan = document.getElementById("nerds");
const rateSpan = document.getElementById("rate");
const nerdImage = document.getElementById("nerdImage");
const clickDiv = document.getElementById("clickUpgrades");
const autoDiv = document.getElementById("autoUpgrades");
const skinShopDiv = document.getElementById("skinShop");
const skinLockerDiv = document.getElementById("skinLocker");

function saveGame() {
  localStorage.setItem("plesNerd2Save", JSON.stringify({
    nerds,
    nerdsPerClick,
    nerdsPerSecond,
    equippedSkin,
    purchasedSkins
  }));
}

function loadGame() {
  const save = JSON.parse(localStorage.getItem("plesNerd2Save"));
  if (!save) return;
  nerds = save.nerds;
  nerdsPerClick = save.nerdsPerClick;
  nerdsPerSecond = save.nerdsPerSecond;
  equippedSkin = save.equippedSkin || "nerd.png";
  purchasedSkins = save.purchasedSkins || ["nerd.png"];
}

function updateUI() {
  nerdsSpan.textContent = Math.floor(nerds);
  rateSpan.textContent = nerdsPerSecond;
  nerdImage.src = equippedSkin;

  document.querySelectorAll(".upgrade-btn").forEach(btn => {
    btn.disabled = nerds < Number(btn.dataset.cost);
  });

  document.querySelectorAll(".skin-btn").forEach(btn => {
    const img = btn.dataset.img;
    btn.disabled = nerds < Number(btn.dataset.cost) || purchasedSkins.includes(img);
  });

  buildSkinLocker();
  saveGame();
}

function buildUpgrades() {
  clickDiv.innerHTML = "";
  autoDiv.innerHTML = "";

  clickUpgrades.forEach(upg => {
    const btn = document.createElement("button");
    btn.className = "upgrade-btn";
    btn.dataset.cost = upg.cost;
    btn.innerHTML = `${upg.name}<br><small>+${upg.amount} per click</small><br>Cost: ${upg.cost}`;
    btn.onclick = () => {
      if (nerds < upg.cost) return;
      nerds -= upg.cost;
      nerdsPerClick += upg.amount;
      updateUI();
    };
    clickDiv.appendChild(btn);
  });

  autoUpgrades.forEach(upg => {
    const btn = document.createElement("button");
    btn.className = "upgrade-btn";
    btn.dataset.cost = upg.cost;
    btn.innerHTML = `${upg.name}<br><small>+${upg.amount} nerds/sec</small><br>Cost: ${upg.cost}`;
    btn.onclick = () => {
      if (nerds < upg.cost) return;
      nerds -= upg.cost;
      nerdsPerSecond += upg.amount;
      updateUI();
    };
    autoDiv.appendChild(btn);
  });
}

function buildSkinShop() {
  skinShopDiv.innerHTML = "";
  skins.forEach(skin => {
    if (!purchasedSkins.includes(skin.img)) {
      const btn = document.createElement("button");
      btn.className = "skin-btn";
      btn.dataset.img = skin.img;
      btn.dataset.cost = skin.cost;
      btn.innerHTML = `${skin.name}<br>Cost: ${skin.cost}`;
      btn.onclick = () => {
        if (nerds < skin.cost) return;
        nerds -= skin.cost;
        purchasedSkins.push(skin.img);
        equippedSkin = skin.img;
        updateUI();
      };
      skinShopDiv.appendChild(btn);
    }
  });
}

function buildSkinLocker() {
  skinLockerDiv.innerHTML = "";
  purchasedSkins.forEach(img => {
    const skin = skins.find(s => s.img === img);
    const btn = document.createElement("button");
    btn.innerHTML = `Equip ${skin.name}`;
    btn.onclick = () => { equippedSkin = skin.img; updateUI(); };
    skinLockerDiv.appendChild(btn);
  });
}

// Tabs
const tabButtons = document.querySelectorAll(".tab-btn");
const tabContents = document.querySelectorAll(".tab-content");
tabButtons.forEach(btn => {
  btn.addEventListener("click", () => {
    tabButtons.forEach(b => b.classList.remove("active"));
    tabContents.forEach(c => c.classList.remove("active"));
    btn.classList.add("active");
    document.getElementById(btn.dataset.tab).classList.add("active");
  });
});

// Main Click
nerdImage.onclick = () => { nerds += nerdsPerClick; if(navigator.vibrate) navigator.vibrate(10); updateUI(); };

// Game Loop
setInterval(() => { nerds += nerdsPerSecond; updateUI(); }, 1000);

// Init
loadGame();
buildUpgrades();
buildSkinShop();
updateUI();
</script>
</body>
</html>